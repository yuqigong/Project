<!DOCTYPE HTML>
<html>

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, minimal-ui" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="format-detection" content="telephone=no, email=no" />
    <title>knockoutJS</title>
    <!-- Set wap app icon -->
    <link rel="apple-touch-icon" href="touch-icon-iphone.png" />
    <link rel="apple-touch-icon" sizes="76x76" href="touch-icon-ipad.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="touch-icon-iphone-retina.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="touch-icon-ipad-retina.png" />
    <!-- Base style -->
    <link rel="stylesheet" href="../lib/css/base/base.css" />
    <link rel="stylesheet" href="../lib/css/base/main.css" />
    <link rel="stylesheet" href="../lib/css/module/module.css" />
</head>

<body>
    <div>You've clicked <span data-bind='text: numberOfClicks'>&nbsp;</span> times</div>
    <button data-bind='click: registerClick, disable: hasClickedTooManyTimes'>Click me</button>
    <div data-bind='visible: hasClickedTooManyTimes'>
        That's too many clicks! Please stop before you wear out your fingers.
        <button data-bind='click: resetClicks'>Reset clicks</button>
    </div>
    <!-- Base Javascript Lib -->
    <script src="../lib/script/base/knockout/knockout-3.3.0.js"></script>
    <script type="text/javascript">
    var ClickCounterViewModel = function() {
        this.numberOfClicks = ko.observable(0);

        this.registerClick = function() {
            this.numberOfClicks(this.numberOfClicks() + 1);
        };

        this.resetClicks = function() {
            this.numberOfClicks(0);
        };

        this.hasClickedTooManyTimes = ko.pureComputed(function() {
            return this.numberOfClicks() >= 3;
        }, this);
    };

    ko.applyBindings(new ClickCounterViewModel());
    </script>
</body>

</html>
